<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Desenhos da Elisa e da Gurico ‚úèÔ∏è</title>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
    import { getStorage, ref, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-storage.js";
    import { getFirestore, collection, addDoc, getDocs, orderBy, query } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBGpAUvb0voIDWhS7TctqHhrl17EHUBs18",
      authDomain: "galeria-desenhos.firebaseapp.com",
      projectId: "galeria-desenhos",
      storageBucket: "galeria-desenhos.firebasestorage.app",
      messagingSenderId: "394709347493",
      appId: "1:394709347493:web:c6aa84f00a212bf6d7314c"
    };

    const app = initializeApp(firebaseConfig);
    const storage = getStorage(app);
    const db = getFirestore(app);

    // ‚îÄ‚îÄ carrega galeria ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    async function loadGallery() {
      const grid = document.getElementById("gallery-grid");
      const empty = document.getElementById("empty-state");
      grid.innerHTML = "";

      const q = query(collection(db, "drawings"), orderBy("createdAt", "desc"));
      const snap = await getDocs(q);

      if (snap.empty) {
        empty.style.display = "flex";
        return;
      }
      empty.style.display = "none";

      snap.forEach((doc) => {
        const data = doc.data();
        const card = document.createElement("div");
        card.className = "card";
        card.style.animationDelay = `${Math.random() * 0.4}s`;
        card.innerHTML = `
          <div class="card-img-wrap">
            <img src="${data.url}" alt="${data.title}" loading="lazy" />
          </div>
          <div class="card-info">
            <span class="card-artist">${data.artist}</span>
            <span class="card-title">${data.title}</span>
            <span class="card-date">${new Date(data.createdAt?.toDate?.() ?? data.createdAt).toLocaleDateString("pt-BR", { day:"2-digit", month:"short", year:"numeric" })}</span>
          </div>`;
        card.querySelector("img").addEventListener("click", () => openLightbox(data.url, data.title, data.artist));
        grid.appendChild(card);
      });
    }

    // ‚îÄ‚îÄ upload ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    async function handleUpload(e) {
      e.preventDefault();
      const fileInput = document.getElementById("file-input");
      const artistInput = document.getElementById("artist-input");
      const titleInput = document.getElementById("title-input");
      const btn = document.getElementById("upload-btn");
      const progressWrap = document.getElementById("progress-wrap");
      const progressBar = document.getElementById("progress-bar");
      const feedback = document.getElementById("upload-feedback");

      const file = fileInput.files[0];
      const artist = artistInput.value.trim();
      const title = titleInput.value.trim();

      if (!file || !artist || !title) {
        feedback.textContent = "Preencha todos os campos!";
        feedback.className = "feedback error";
        return;
      }

      btn.disabled = true;
      btn.textContent = "Enviando‚Ä¶";
      progressWrap.style.display = "block";
      feedback.textContent = "";

      const storageRef = ref(storage, `drawings/${Date.now()}_${file.name}`);
      const task = uploadBytesResumable(storageRef, file);

      task.on("state_changed",
        (snap) => {
          const pct = Math.round((snap.bytesTransferred / snap.totalBytes) * 100);
          progressBar.style.width = pct + "%";
        },
        (err) => {
          feedback.textContent = "Erro ao enviar: " + err.message;
          feedback.className = "feedback error";
          btn.disabled = false;
          btn.textContent = "Enviar desenho ‚ú®";
          progressWrap.style.display = "none";
        },
        async () => {
          const url = await getDownloadURL(task.snapshot.ref);
          await addDoc(collection(db, "drawings"), { url, artist, title, createdAt: new Date() });

          feedback.textContent = "Desenho adicionado com amor! üíõ";
          feedback.className = "feedback success";
          btn.disabled = false;
          btn.textContent = "Enviar desenho ‚ú®";
          progressWrap.style.display = "none";
          progressBar.style.width = "0";
          fileInput.value = "";
          artistInput.value = "";
          titleInput.value = "";
          document.getElementById("preview-img").style.display = "none";
          document.getElementById("preview-placeholder").style.display = "flex";
          closeUploadPanel();
          loadGallery();
        }
      );
    }

    // ‚îÄ‚îÄ lightbox ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    function openLightbox(url, title, artist) {
      document.getElementById("lb-img").src = url;
      document.getElementById("lb-title").textContent = title;
      document.getElementById("lb-artist").textContent = "por " + artist;
      document.getElementById("lightbox").classList.add("active");
    }

    function closeLightbox() {
      document.getElementById("lightbox").classList.remove("active");
    }

    // ‚îÄ‚îÄ painel de upload ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    function openUploadPanel() {
      document.getElementById("upload-panel").classList.add("active");
    }
    function closeUploadPanel() {
      document.getElementById("upload-panel").classList.remove("active");
    }

    // ‚îÄ‚îÄ preview ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    function handlePreview(e) {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (ev) => {
        const img = document.getElementById("preview-img");
        img.src = ev.target.result;
        img.style.display = "block";
        document.getElementById("preview-placeholder").style.display = "none";
      };
      reader.readAsDataURL(file);
    }

    // ‚îÄ‚îÄ drag & drop ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    function setupDrop() {
      const zone = document.getElementById("drop-zone");
      zone.addEventListener("dragover", (e) => { e.preventDefault(); zone.classList.add("drag-over"); });
      zone.addEventListener("dragleave", () => zone.classList.remove("drag-over"));
      zone.addEventListener("drop", (e) => {
        e.preventDefault();
        zone.classList.remove("drag-over");
        const file = e.dataTransfer.files[0];
        if (file) {
          document.getElementById("file-input").files = e.dataTransfer.files;
          handlePreview({ target: { files: [file] } });
        }
      });
    }

    // ‚îÄ‚îÄ init ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    window.addEventListener("DOMContentLoaded", () => {
      loadGallery();
      setupDrop();
      document.getElementById("upload-form").addEventListener("submit", handleUpload);
      document.getElementById("file-input").addEventListener("change", handlePreview);
      document.getElementById("fab-upload").addEventListener("click", openUploadPanel);
      document.getElementById("close-panel").addEventListener("click", closeUploadPanel);
      document.getElementById("panel-backdrop").addEventListener("click", closeUploadPanel);
      document.getElementById("lightbox").addEventListener("click", closeLightbox);
    });
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <style>
    /* ‚îÄ‚îÄ reset & tokens ‚îÄ‚îÄ */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --cream: #fffdf6;
      --warm: #fff4e0;
      --yellow: #ffd54f;
      --yellow2: #ffb300;
      --coral: #ff7043;
      --teal: #26a69a;
      --teal2: #00897b;
      --pink: #f06292;
      --lilac: #ba68c8;
      --sky: #4fc3f7;
      --ink: #2d2d2d;
      --ink2: #5a5a5a;
      --shadow: rgba(0,0,0,0.10);
      --radius: 20px;
      --font-display: "Pacifico", cursive;
      --font-body: "Nunito", sans-serif;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: var(--font-body);
      background: var(--cream);
      color: var(--ink);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ‚îÄ‚îÄ squiggly bg ‚îÄ‚îÄ */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(ellipse at 10% 20%, #ffd54f33 0%, transparent 55%),
        radial-gradient(ellipse at 85% 10%, #f0629222 0%, transparent 50%),
        radial-gradient(ellipse at 70% 80%, #4fc3f722 0%, transparent 55%),
        radial-gradient(ellipse at 20% 85%, #ba68c822 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    /* ‚îÄ‚îÄ header ‚îÄ‚îÄ */
    header {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 3.5rem 1rem 2rem;
    }

    .header-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--yellow);
      color: var(--ink);
      font-size: .8rem;
      font-weight: 800;
      letter-spacing: .06em;
      text-transform: uppercase;
      padding: 6px 16px;
      border-radius: 99px;
      margin-bottom: 1.2rem;
      box-shadow: 0 2px 8px #ffb30040;
    }

    h1 {
      font-family: var(--font-display);
      font-size: clamp(2.4rem, 6vw, 4rem);
      line-height: 1.1;
      color: var(--coral);
      text-shadow: 3px 3px 0 #ffd54f88;
      margin-bottom: .6rem;
    }

    .tagline {
      font-size: 1.05rem;
      color: var(--ink2);
      font-weight: 600;
      max-width: 420px;
      margin: 0 auto;
    }

    /* ‚îÄ‚îÄ deco pencils ‚îÄ‚îÄ */
    .deco {
      font-size: 2rem;
      position: absolute;
      animation: float 4s ease-in-out infinite;
      user-select: none;
      pointer-events: none;
    }
    .deco:nth-child(1) { top: 1.5rem; left: 5%; animation-delay: 0s; }
    .deco:nth-child(2) { top: 3rem; right: 7%; animation-delay: .8s; }
    .deco:nth-child(3) { top: 5rem; left: 14%; animation-delay: 1.5s; }
    .deco:nth-child(4) { top: 1rem; right: 18%; animation-delay: 2s; }

    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(-5deg); }
      50% { transform: translateY(-10px) rotate(5deg); }
    }

    /* ‚îÄ‚îÄ wavy divider ‚îÄ‚îÄ */
    .wave {
      width: 100%;
      line-height: 0;
      position: relative;
      z-index: 1;
    }
    .wave svg { display: block; }

    /* ‚îÄ‚îÄ gallery section ‚îÄ‚îÄ */
    .gallery-section {
      position: relative;
      z-index: 1;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2.5rem 1.5rem 8rem;
    }

    .section-label {
      font-family: var(--font-display);
      font-size: 1.5rem;
      color: var(--teal2);
      margin-bottom: 1.8rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* ‚îÄ‚îÄ grid ‚îÄ‚îÄ */
    #gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1.5rem;
    }

    /* ‚îÄ‚îÄ card ‚îÄ‚îÄ */
    .card {
      background: #fff;
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 4px 20px var(--shadow);
      transition: transform .25s, box-shadow .25s;
      animation: popIn .45s cubic-bezier(.34,1.56,.64,1) both;
    }
    @keyframes popIn {
      from { opacity: 0; transform: scale(.85) translateY(20px); }
      to   { opacity: 1; transform: none; }
    }
    .card:hover {
      transform: translateY(-6px) rotate(-1deg);
      box-shadow: 0 12px 30px rgba(0,0,0,.14);
    }

    .card-img-wrap {
      aspect-ratio: 1;
      overflow: hidden;
      background: var(--warm);
      cursor: zoom-in;
    }
    .card-img-wrap img {
      width: 100%; height: 100%;
      object-fit: cover;
      transition: transform .35s;
    }
    .card:hover .card-img-wrap img { transform: scale(1.05); }

    .card-info {
      padding: .8rem 1rem 1rem;
      display: grid;
      grid-template-columns: 1fr auto;
      grid-template-rows: auto auto;
      gap: 2px 8px;
    }
    .card-artist {
      font-weight: 800;
      font-size: .95rem;
      color: var(--coral);
      grid-column: 1;
    }
    .card-title {
      font-size: .9rem;
      color: var(--ink);
      font-weight: 600;
      grid-column: 1;
    }
    .card-date {
      font-size: .75rem;
      color: #aaa;
      grid-column: 2;
      grid-row: 1 / 3;
      align-self: center;
      writing-mode: vertical-rl;
      text-orientation: mixed;
      transform: rotate(180deg);
    }

    /* ‚îÄ‚îÄ empty state ‚îÄ‚îÄ */
    #empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      padding: 4rem 1rem;
      color: var(--ink2);
    }
    #empty-state .big-emoji { font-size: 4.5rem; }
    #empty-state p { font-size: 1.1rem; font-weight: 700; text-align: center; }
    #empty-state small { font-size: .9rem; color: #aaa; }

    /* ‚îÄ‚îÄ FAB ‚îÄ‚îÄ */
    #fab-upload {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      z-index: 200;
      background: var(--coral);
      color: #fff;
      border: none;
      border-radius: 99px;
      padding: .85rem 1.6rem;
      font-family: var(--font-body);
      font-size: 1rem;
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 6px 20px #ff704360;
      transition: transform .2s, box-shadow .2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    #fab-upload:hover {
      transform: translateY(-3px) scale(1.04);
      box-shadow: 0 10px 28px #ff704360;
    }

    /* ‚îÄ‚îÄ upload panel ‚îÄ‚îÄ */
    #panel-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      backdrop-filter: blur(4px);
      z-index: 299;
      opacity: 0;
      pointer-events: none;
      transition: opacity .3s;
    }
    #upload-panel {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      z-index: 300;
      background: var(--cream);
      border-radius: 28px 28px 0 0;
      padding: 2rem 1.5rem 3rem;
      transform: translateY(110%);
      transition: transform .4s cubic-bezier(.34,1.2,.64,1);
      max-width: 560px;
      margin: 0 auto;
      box-shadow: 0 -8px 40px rgba(0,0,0,.18);
    }
    #upload-panel.active {
      transform: translateY(0);
    }
    #upload-panel.active ~ #panel-backdrop,
    #panel-backdrop:has(+ #upload-panel.active) { opacity: 1; pointer-events: auto; }
    /* Simpler: toggle backdrop with JS */

    .panel-handle {
      width: 44px; height: 5px;
      background: #ddd;
      border-radius: 99px;
      margin: 0 auto 1.5rem;
    }

    .panel-title {
      font-family: var(--font-display);
      font-size: 1.6rem;
      color: var(--teal2);
      margin-bottom: 1.5rem;
      text-align: center;
    }

    /* drop zone */
    #drop-zone {
      border: 3px dashed var(--yellow2);
      border-radius: var(--radius);
      background: var(--warm);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      aspect-ratio: 4/3;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
      transition: border-color .2s, background .2s;
    }
    #drop-zone.drag-over { border-color: var(--coral); background: #fff0e8; }
    #drop-zone input[type="file"] {
      position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%;
    }
    #preview-placeholder {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: .5rem;
      pointer-events: none;
    }
    #preview-placeholder .icon { font-size: 3rem; }
    #preview-placeholder p { font-size: .9rem; font-weight: 700; color: var(--ink2); }
    #preview-placeholder small { font-size: .78rem; color: #aaa; }
    #preview-img {
      position: absolute; inset: 0;
      width: 100%; height: 100%;
      object-fit: contain;
      display: none;
    }

    /* form fields */
    .field-row { display: grid; grid-template-columns: 1fr 1fr; gap: .8rem; margin-bottom: .8rem; }
    .field-row input, .upload-form input:not([type=file]) {
      width: 100%;
      padding: .7rem 1rem;
      border: 2px solid #e8e8e8;
      border-radius: 12px;
      font-family: var(--font-body);
      font-size: .95rem;
      font-weight: 600;
      color: var(--ink);
      background: #fff;
      transition: border-color .2s;
    }
    .field-row input:focus, .upload-form input:focus { outline: none; border-color: var(--teal); }

    #upload-btn {
      width: 100%;
      padding: .9rem;
      background: var(--teal);
      color: #fff;
      border: none;
      border-radius: 14px;
      font-family: var(--font-body);
      font-size: 1rem;
      font-weight: 800;
      cursor: pointer;
      margin-top: .5rem;
      transition: background .2s, transform .15s;
    }
    #upload-btn:hover { background: var(--teal2); transform: scale(1.02); }
    #upload-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; }

    #progress-wrap {
      display: none;
      margin: .6rem 0;
      background: #eee;
      border-radius: 99px;
      overflow: hidden;
      height: 8px;
    }
    #progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--teal), var(--yellow2));
      border-radius: 99px;
      width: 0;
      transition: width .2s;
    }

    .feedback { font-size: .9rem; font-weight: 700; text-align: center; margin-top: .5rem; padding: .4rem; border-radius: 8px; }
    .feedback.success { color: var(--teal2); background: #e0f2f1; }
    .feedback.error   { color: var(--coral); background: #fbe9e7; }

    #close-panel {
      position: absolute;
      top: 1.2rem; right: 1.4rem;
      background: #eee;
      border: none;
      border-radius: 99px;
      width: 34px; height: 34px;
      font-size: 1.1rem;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: background .2s;
    }
    #close-panel:hover { background: #ddd; }

    /* ‚îÄ‚îÄ lightbox ‚îÄ‚îÄ */
    #lightbox {
      position: fixed;
      inset: 0;
      z-index: 500;
      background: rgba(0,0,0,.88);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity .25s;
      cursor: zoom-out;
      padding: 1.5rem;
    }
    #lightbox.active { opacity: 1; pointer-events: auto; }
    #lb-img {
      max-width: 90vw;
      max-height: 78vh;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0,0,0,.5);
      object-fit: contain;
      animation: zoomIn .3s cubic-bezier(.34,1.4,.64,1);
    }
    @keyframes zoomIn {
      from { transform: scale(.8); opacity: 0; }
      to   { transform: none; opacity: 1; }
    }
    #lb-title { font-family: var(--font-display); font-size: 1.4rem; color: #fff; }
    #lb-artist { font-size: .95rem; color: #ccc; font-weight: 600; }

    /* ‚îÄ‚îÄ footer ‚îÄ‚îÄ */
    footer {
      text-align: center;
      padding: 1.5rem;
      font-size: .85rem;
      color: #bbb;
      position: relative;
      z-index: 1;
    }
    footer span { color: var(--coral); }

    /* ‚îÄ‚îÄ responsive ‚îÄ‚îÄ */
    @media (max-width: 480px) {
      #gallery-grid { grid-template-columns: repeat(2, 1fr); gap: 1rem; }
      .field-row { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <!-- ‚îÄ‚îÄ Header ‚îÄ‚îÄ -->
  <header>
    <span class="deco">‚úèÔ∏è</span>
    <span class="deco">üé®</span>
    <span class="deco">üñçÔ∏è</span>
    <span class="deco">‚≠ê</span>

    <div class="header-badge">üåà galeria de artes</div>
    <h1>Desenhos da Elisa e da Gurico</h1>
    <p class="tagline">Um cantinho cheio de amor para guardar cada tra√ßo, cada cor, cada cria√ß√£o especial.</p>
  </header>

  <!-- ‚îÄ‚îÄ Wave ‚îÄ‚îÄ -->
  <div class="wave">
    <svg viewBox="0 0 1440 60" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
      <path d="M0,30 C240,60 480,0 720,30 C960,60 1200,0 1440,30 L1440,60 L0,60 Z" fill="#fff4e0" opacity=".6"/>
    </svg>
  </div>

  <!-- ‚îÄ‚îÄ Gallery ‚îÄ‚îÄ -->
  <section class="gallery-section">
    <p class="section-label">‚ú® Todas as cria√ß√µes</p>

    <div id="gallery-grid"></div>

    <div id="empty-state" style="display:none">
      <div class="big-emoji">üé®</div>
      <p>A galeria est√° esperando os primeiros desenhos!</p>
      <small>Clique no bot√£o abaixo para adicionar o primeiro.</small>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ FAB ‚îÄ‚îÄ -->
  <button id="fab-upload">‚úèÔ∏è Adicionar desenho</button>

  <!-- ‚îÄ‚îÄ Upload Panel ‚îÄ‚îÄ -->
  <div id="panel-backdrop"></div>
  <div id="upload-panel">
    <button id="close-panel">‚úï</button>
    <div class="panel-handle"></div>
    <p class="panel-title">Novo Desenho üñåÔ∏è</p>

    <form id="upload-form" class="upload-form">
      <div id="drop-zone">
        <input type="file" id="file-input" accept="image/*" />
        <div id="preview-placeholder">
          <div class="icon">üñºÔ∏è</div>
          <p>Clique ou arraste a foto aqui</p>
          <small>JPG, PNG, WEBP ‚Äî m√°x 10 MB</small>
        </div>
        <img id="preview-img" alt="preview" />
      </div>

      <div class="field-row">
        <input type="text" id="artist-input" placeholder="Quem desenhou? üåü" maxlength="40" required />
        <input type="text" id="title-input" placeholder="Nome do desenho üé®" maxlength="60" required />
      </div>

      <div id="progress-wrap"><div id="progress-bar"></div></div>
      <div id="upload-feedback" class="feedback"></div>

      <button type="submit" id="upload-btn">Enviar desenho ‚ú®</button>
    </form>
  </div>

  <!-- ‚îÄ‚îÄ Lightbox ‚îÄ‚îÄ -->
  <div id="lightbox">
    <img id="lb-img" alt="" />
    <p id="lb-title"></p>
    <p id="lb-artist"></p>
  </div>

  <!-- ‚îÄ‚îÄ Footer ‚îÄ‚îÄ -->
  <footer>Feito com <span>‚ô•</span> para guardar cada rabisco especial</footer>

  <!-- backdrop toggle helper -->
  <script>
    const panel = document.getElementById("upload-panel");
    const backdrop = document.getElementById("panel-backdrop");
    const obs = new MutationObserver(() => {
      backdrop.style.opacity = panel.classList.contains("active") ? "1" : "0";
      backdrop.style.pointerEvents = panel.classList.contains("active") ? "auto" : "none";
    });
    obs.observe(panel, { attributes: true });
  </script>

</body>
</html>
